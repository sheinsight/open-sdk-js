# ä¸€é”®å‘å¸ƒè„šæœ¬

è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„è‡ªåŠ¨åŒ–å‘å¸ƒè„šæœ¬ï¼Œæ”¯æŒäº¤äº’å¼é…ç½®å’Œçµæ´»çš„å‘å¸ƒé€‰é¡¹ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åŸºæœ¬ç”¨æ³•

```bash
# äº¤äº’å¼å‘å¸ƒï¼ˆæ¨èæ–°æ‰‹ä½¿ç”¨ï¼‰
npm run release

# å¿«é€Ÿå‘å¸ƒè¡¥ä¸ç‰ˆæœ¬
npm run release:patch

# å¿«é€Ÿå‘å¸ƒæ¬¡è¦ç‰ˆæœ¬
npm run release:minor

# å¿«é€Ÿå‘å¸ƒä¸»è¦ç‰ˆæœ¬
npm run release:major
```

### é«˜çº§ç”¨æ³•

```bash
# æŒ‡å®š git remote
npm run release -- --remote=origin

# æŒ‡å®šå‘å¸ƒç±»å‹å’Œ remote
npm run release -- --type=minor --remote=github-open-sdk-js

# æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
npm run release -- --help
```

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

### âœ… æ ¸å¿ƒåŠŸèƒ½

- **äº¤äº’å¼ç‰ˆæœ¬é€‰æ‹©** - ç›´è§‚çš„ç‰ˆæœ¬ç±»å‹é€‰æ‹©ç•Œé¢
- **è‡ªåŠ¨ç‰ˆæœ¬è®¡ç®—** - æ ¹æ®å½“å‰ç‰ˆæœ¬è‡ªåŠ¨è®¡ç®—æ–°ç‰ˆæœ¬å·
- **æ™ºèƒ½ Remote æ£€æµ‹** - è‡ªåŠ¨æ£€æµ‹å¹¶ä½¿ç”¨åˆé€‚çš„ git remote
- **å·¥ä½œç›®å½•æ£€æŸ¥** - ç¡®ä¿ä»£ç åº“çŠ¶æ€å¹²å‡€
- **ç¬¦åˆè§„èŒƒçš„æäº¤** - ç”Ÿæˆç¬¦åˆ Conventional Commits çš„æäº¤ä¿¡æ¯

### âœ… è‡ªåŠ¨åŒ–æµç¨‹

- **Release Please é›†æˆ** - è‡ªåŠ¨è§¦å‘ Release Please å·¥ä½œæµ
- **å·¥ä½œæµç›‘æ§** - å®æ—¶ç›‘æ§ GitHub Actions æ‰§è¡ŒçŠ¶æ€
- **PR è‡ªåŠ¨å¤„ç†** - å¯é€‰çš„è‡ªåŠ¨åˆå¹¶ Release Please PR
- **å‘å¸ƒéªŒè¯** - è‡ªåŠ¨éªŒè¯ NPM åŒ…å’Œ GitHub Release

### âœ… ç”¨æˆ·ä½“éªŒ

- **å½©è‰²è¾“å‡º** - æ¸…æ™°çš„æ—¥å¿—å’ŒçŠ¶æ€æ˜¾ç¤º
- **è¿›åº¦æç¤º** - è¯¦ç»†çš„æ‰§è¡Œæ­¥éª¤è¯´æ˜
- **é”™è¯¯å¤„ç†** - å‹å¥½çš„é”™è¯¯ä¿¡æ¯å’Œæ¢å¤å»ºè®®
- **ä¸­æ–­å¤„ç†** - æ”¯æŒ Ctrl+C å®‰å…¨é€€å‡º

## ğŸ“– è¯¦ç»†è¯´æ˜

### ç‰ˆæœ¬ç±»å‹

| ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ | ç”¨é€” |
|------|------|------|------|
| `patch` | è¡¥ä¸ç‰ˆæœ¬ | 1.0.0 â†’ 1.0.1 | Bug ä¿®å¤ã€å°æ”¹è¿› |
| `minor` | æ¬¡è¦ç‰ˆæœ¬ | 1.0.0 â†’ 1.1.0 | æ–°åŠŸèƒ½ã€å‘åå…¼å®¹ |
| `major` | ä¸»è¦ç‰ˆæœ¬ | 1.0.0 â†’ 2.0.0 | ç ´åæ€§å˜æ›´ã€å¤§ç‰ˆæœ¬å‡çº§ |

### Remote é…ç½®

è„šæœ¬ä¼šæŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§é€‰æ‹© git remoteï¼š

1. **å‘½ä»¤è¡Œå‚æ•°** - `--remote=<name>`
2. **é…ç½®æ–‡ä»¶** - `release.config.js` ä¸­çš„ `defaultRemote`
3. **è‡ªåŠ¨æ£€æµ‹** - æŒ‰ä¼˜å…ˆçº§ï¼š`github-open-sdk-js` > `origin` > ç¬¬ä¸€ä¸ªå¯ç”¨

### æ‰§è¡Œæµç¨‹

1. **ç¯å¢ƒæ£€æŸ¥** - éªŒè¯ Git ä»“åº“ã€package.json ç­‰
2. **çŠ¶æ€æ£€æŸ¥** - æ£€æŸ¥å·¥ä½œç›®å½•æ˜¯å¦å¹²å‡€
3. **ç‰ˆæœ¬é€‰æ‹©** - äº¤äº’å¼é€‰æ‹©æˆ–å‘½ä»¤è¡ŒæŒ‡å®š
4. **ç¡®è®¤ä¿¡æ¯** - æ˜¾ç¤ºå‘å¸ƒè¯¦æƒ…ä¾›ç”¨æˆ·ç¡®è®¤
5. **æ›´æ–°ç‰ˆæœ¬** - ä¿®æ”¹ package.json ä¸­çš„ç‰ˆæœ¬å·
6. **æäº¤æ¨é€** - åˆ›å»ºæäº¤å¹¶æ¨é€åˆ°æŒ‡å®š remote
7. **ç›‘æ§æµç¨‹** - ç­‰å¾…å¹¶ç›‘æ§ Release Please å·¥ä½œæµ
8. **å¤„ç† PR** - æ£€æŸ¥å¹¶å¯é€‰åˆå¹¶ Release Please PR
9. **éªŒè¯ç»“æœ** - éªŒè¯ NPM åŒ…å’Œ GitHub Release

## âš™ï¸ é…ç½®é€‰é¡¹

åˆ›å»º `release.config.js` æ–‡ä»¶æ¥è‡ªå®šä¹‰è¡Œä¸ºï¼š

```javascript
module.exports = {
  // é»˜è®¤ remote
  defaultRemote: 'github-open-sdk-js',
  
  // é»˜è®¤åˆ†æ”¯
  defaultBranch: 'master',
  
  // æ˜¯å¦è‡ªåŠ¨åˆå¹¶ Release Please PR
  autoMergeReleasePR: false,
  
  // å·¥ä½œæµç­‰å¾…è¶…æ—¶ï¼ˆåˆ†é’Ÿï¼‰
  workflowTimeout: 10,
  
  // éªŒè¯é…ç½®
  verification: {
    checkNpmPackage: true,
    checkGithubRelease: true,
    timeout: 5
  }
};
```

## ğŸ› ï¸ å‰ç½®è¦æ±‚

### å¿…éœ€å·¥å…·

- **Node.js** >= 16.0.0
- **Git** - ç‰ˆæœ¬æ§åˆ¶
- **npm/yarn/pnpm** - åŒ…ç®¡ç†å™¨

### å¯é€‰å·¥å…·

- **GitHub CLI (gh)** - ç”¨äºç›‘æ§å·¥ä½œæµå’Œå¤„ç† PR
  ```bash
  # macOS
  brew install gh
  
  # å…¶ä»–ç³»ç»Ÿ
  # å‚è€ƒ: https://cli.github.com/manual/installation
  ```

### ç¯å¢ƒé…ç½®

1. **GitHub Secrets** - ç¡®ä¿å·²é…ç½® NPM å‘å¸ƒ token
2. **Release Please** - ç¡®ä¿ä»“åº“å·²é…ç½® Release Please å·¥ä½œæµ
3. **æƒé™é…ç½®** - ç¡®ä¿æœ‰æ¨é€ä»£ç å’Œå‘å¸ƒåŒ…çš„æƒé™

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: æç¤º "å·¥ä½œç›®å½•æœ‰æœªæäº¤æ›´æ”¹"**
```bash
# æŸ¥çœ‹æœªæäº¤çš„æ›´æ”¹
git status

# æäº¤æ›´æ”¹æˆ–å‚¨è—
git add .
git commit -m "your message"
# æˆ–
git stash
```

**Q: æ‰¾ä¸åˆ°åˆé€‚çš„ git remote**
```bash
# æŸ¥çœ‹ç°æœ‰ remote
git remote -v

# æ·»åŠ  remoteï¼ˆå¦‚æœéœ€è¦ï¼‰
git remote add github-open-sdk-js https://github.com/user/repo.git
```

**Q: GitHub CLI æœªè®¤è¯**
```bash
# ç™»å½• GitHub CLI
gh auth login
```

**Q: Release Please å·¥ä½œæµå¤±è´¥**
- æ£€æŸ¥ GitHub Actions é¡µé¢æŸ¥çœ‹è¯¦ç»†é”™è¯¯
- ç¡®ä¿ NPM token é…ç½®æ­£ç¡®
- éªŒè¯ package.json å’Œ release-please-config.json é…ç½®

### è°ƒè¯•æ¨¡å¼

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥æ‰‹åŠ¨æ‰§è¡Œå„ä¸ªæ­¥éª¤ï¼š

```bash
# 1. æ£€æŸ¥çŠ¶æ€
git status
git remote -v

# 2. æŸ¥çœ‹å½“å‰ç‰ˆæœ¬
npm version

# 3. æ£€æŸ¥ GitHub Actions
gh run list --limit 5

# 4. æŸ¥çœ‹ Release Please PR
gh pr list --label "autorelease: pending"
```

## ğŸ“„ ç¤ºä¾‹åœºæ™¯

### åœºæ™¯ 1: ä¿®å¤ Bug å‘å¸ƒ

```bash
# ä¿®å¤äº†ä¸€ä¸ª bugï¼Œéœ€è¦å‘å¸ƒè¡¥ä¸ç‰ˆæœ¬
npm run release:patch
```

### åœºæ™¯ 2: æ·»åŠ æ–°åŠŸèƒ½

```bash
# æ·»åŠ äº†æ–°åŠŸèƒ½ï¼Œéœ€è¦å‘å¸ƒæ¬¡è¦ç‰ˆæœ¬
npm run release:minor
```

### åœºæ™¯ 3: å¤š Remote é¡¹ç›®

```bash
# é¡¹ç›®æœ‰å¤šä¸ª remoteï¼ŒæŒ‡å®šå‘å¸ƒåˆ°ç‰¹å®š remote
npm run release -- --remote=upstream
```

### åœºæ™¯ 4: è‡ªåŠ¨åŒ– CI/CD

```bash
# åœ¨ CI/CD ä¸­ä½¿ç”¨ï¼Œè·³è¿‡äº¤äº’å¼ç¡®è®¤
npm run release:patch
```

## ğŸ¤ è´¡çŒ®

å¦‚æœæ‚¨å‘ç°é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œæ¬¢è¿ï¼š

1. æäº¤ Issue æè¿°é—®é¢˜
2. æäº¤ Pull Request è´¡çŒ®ä»£ç 
3. å®Œå–„æ–‡æ¡£å’Œç¤ºä¾‹

## ğŸ“œ è®¸å¯è¯

æœ¬è„šæœ¬éµå¾ªé¡¹ç›®çš„ MIT è®¸å¯è¯ã€‚